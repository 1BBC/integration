# ШОСТЕ ПОКОЛІННЯ ІНТЕГРАЦІЇ!

### Початок інтеграції

1. Закинь файли **api.php** та **api.js** в корінь (Туди де лежить index.html).

1. Відкрий _api.php_ та зміни 4 значення: _offer_id_, _country_, _api_key_, _user_id_ (Ти їх можеш знайти в особистому кабінеті тери), за потребою можна вказати стрім - поле '_stream_id_'.

3. Далі, в цьому ж _index.html_, перед закриваючим теґом </body> додай наступний скрипт:
 
 ```html
 <script src="api.js"></script>
 ```
> Цей скрипт задасть правильне значення атрибута action, зробить поля обов'язковими, встановить потрібний петод передачі форми і при наявності відправить в трекер utm мітки.



4. На цьому інтеграцію завершено. Можеш відправляти тестову заявку. Якщо все пройшло добре - тебе має перенаправити на success.html та в кореневій директорії буде створено папку log. Після відправлення тестової заявки, зайди в неї відкрий новостворений лог-файл і перевір чи потрапита в нього заявка.

### Поради та примітки

- _Порада_:		Якщо на сторінці дві форми, обо'язково перевіряй другу форму!

- _Порада_: 	Більш детально про форму та її атрибути можеш прочитати за посиланням - https://css.in.ua/html/tag/form

- _Примітка_:	Якщо ти вже інтегрований по попередніх поколіннях - нічого страшного, все буде працювати, але в подальшому використовуй нове покоління.

- _Примітка_:	якщо у тебе виникли питання чи побажання - ім'я моє Володимир, скайп - nagard11

----------

### Зміни в поколіннях:

    - Перше поколіннях      - Раніше інтеграції використовували бібліотеку jquery, не на всіх сторінках вона підключена. Також вона могла бути підключена в різних місцях, що створювало вагомий дискомфорт.

    - Друге покоління       - більше не використовує jquery. Також було додано примусове просвоєння значення для атрибута method (method="post")

    - Третє покоління       - виправлено помилку, коли я просив призначити формі не правильний ідентифікатор.

    - Четверте покоління    - Тепер в ґет параметрах передаються: sub_id, sub_id_1, sub_id_2, sub_id_3, sub_id_4 (Через ці параметри можеш передавати в теру слік_ід та інші речі).

    - П'яте покоління       - Тепер немає неохідності створювати папку log, це буде зроблено автомачично.
                            - Поля ім'я та телефон тепер обов'язкові, перевірка їх є як на клієнстській стороні, так і на серверній.
                            - Js сценарій винесено в окремий файл.
                            - Тепер можна вказати стрім
                            
    - Шосте покоління       - Завдяки допомозі Максима Бражніка, тепер не потрібно присвоювати жодних ідентифікаторів формам. Скрипт сам знайде всі форми і зробить все, що потрібно.


